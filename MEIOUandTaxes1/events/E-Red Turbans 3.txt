### Red Turbans 3006

#### Yuan degenerates ####
country_event = {
	id = red_turban.6
	title = "red_turban.6.t"
	desc = "red_turban.6.d"
	picture = SIEGE_eventPicture
	major = yes
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { exists = MXI }
			}
			MXI = { clr_country_flag = POP_Init }
		}
	}
	
	trigger = {
		tag = YUA
		exists = yes
		NOT = { has_country_flag = Yuan_Degenerate }
		OR = {
			culture_group = altaic
			culture_group = jurchen_group
			culture_group = tungusic
		}
		OR = {
			has_country_flag = China_Claim
			has_country_flag = former_dynasty_china
		}
		any_owned_province = {
			superregion = eastern_steppe_superregion
			isValidProv = yes
		}
		OR = {
			NOT = { check_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 50 } }
			capital_scope = { NOT = { controlled_by = ROOT } }
			capital_scope = { NOT = { culture_group = chinese_group } }
			num_of_rebel_controlled_provinces = 20
		}
		NOT = { owns = 701 }
	}

	immediate = {
		hidden_effect = {
			steppe_effect = yes
			change_religion = tengri_pagan
			force_converted = yes
			set_country_flag = Yuan_Degenerate
			if = {
				limit = {
					culture_group = altaic
					owns = 4713
				}
				Effect_set_capital = { target=4713 }
			}
			else_if = {
				limit = {
					capital_scope = {
						chinese_region_trigger = yes
					}
					any_owned_province = {
						region = inner_mongolia_region
					}
				}
				random_owned_province = {
					limit = {
						NOT = { chinese_region_trigger = yes }
						region = inner_mongolia_region
						has_owner_culture = yes
						isValidProv = yes
					}
					ROOT = { Effect_set_capital = { target=PREV } }
				}
			}
			else_if = {
				limit = {
					capital_scope = {
						chinese_region_trigger = yes
					}
				}
				random_owned_province = {
					limit = {
						NOT = { chinese_region_trigger = yes }
						has_owner_culture = yes
						isValidProv = yes
					}
					ROOT = { Effect_set_capital = { target=PREV } }
				}
			}
			Yuan_Degenerate = yes
		}
	}
	
	option = {
		name = "red_turban.6.a"
		add_prestige = -10
	}
	
	option = {
		name = "red_turban.6.b"
		trigger = {
			ai = no
		}
		MXI = {
			add_country_modifier = { name = Northern_Yuan_mod duration = -1 }
		}
		switch_tag = MXI
	}
}
#### Yuan dissolves ####

country_event = {
	id = red_turban.7
	title = "red_turban.7.t"
	desc = "red_turban.7.d"
	picture = SIEGE_eventPicture
	major = yes
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_province = {
				limit = {
					owned_by = YUA
				}
				cede_province = KHA
			}
		}
	}
	
	option = {
		name = "red_turban.7a"
		ai_chance = { 
			factor = 100
		}
		custom_tooltip = red_turban.7atooltip
		add_prestige = 10
	}
	option = {
		name = "red_turban.7b"
		trigger = {
			ai = no
			OR = {
				exists = TMD
				exists = ORD
				exists = SUD
				exists = HMI
			}
		}
		custom_tooltip = red_turban.7btooltip
		country_event = {
			id = red_turban.37
		}
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.7c"
		trigger = {
			ai = no
			OR = {
				exists = KHN
				exists = NAI
				exists = ONN
				exists = MXI
			}
		}
		custom_tooltip = red_turban.7ctooltip
		country_event = {
			id = red_turban.38
		}
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.7d"
		trigger = {
			ai = no
			OR = {
				exists = JHA
				exists = JYE
				exists = JHI
				exists = JLA
			}
		}
		custom_tooltip = red_turban.7dtooltip
		country_event = {
			id = red_turban.39
		}
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.7e"
		trigger = {
			ai = no
			OR = {
				exists = JAL
				exists = BRN
				exists = GLS
				exists = KHR
				exists = DRB
			}
		}
		custom_tooltip = red_turban.7etooltip
		country_event = {
			id = red_turban.40
		}
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.7f"
		trigger = {
			ai = no
			OR = {
				exists = MYR
				exists = BGA
				exists = ORQ
				exists = BRT
			}
		}
		custom_tooltip = red_turban.7ftooltip
		country_event = {
			id = red_turban.41
		}
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.7g"
		trigger = {
			ai = no
			exists = OIR
		}
		custom_tooltip = red_turban.7gtooltip
		switch_tag = OIR
		ai_chance = { 
			factor = 0
		}
	}
}

### Uriankhai surrender
country_event = {
	id = red_turban.16
	title = "red_turban.16.t"
	desc = "red_turban.16.d"
	picture = SIEGE_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		MXI = {
			every_subject_country = {
				limit = {
					isValidCountry = yes
				}
				grant_independence = yes
			}
			remove_country_modifier = Northern_Yuan_mod
		}
	}
	
	option = { #Make them our client state
		name = "red_turban.16a"
		hidden_effect = {
			white_peace = MXI
		}
		create_subject = {
			who = MXI
			subject_type = commission
		}
		MXI = { country_event = { id = red_turban.17 } }
		every_country = {
			limit = {
				isValidCountry = yes
				war_with = MXI
			}
			white_peace = MXI
		}
		ai_chance = {
			factor = 0.05
		}
	}
	option = { #Continue fight
		name = "red_turban.16b"
		add_war_exhaustion = 5
		ai_chance = {
			factor = 0
		}
	}
	option = { #Create three guards and allow Jurchen settlement
		name = "red_turban.16c"
		hidden_effect = {
			white_peace = MXI
		}
		liaoning_area = {
			hidden_effect = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
					}
					add_core = ROOT
				}
				if = {
					limit = {
						culture = uriankhai
					}
					change_culture = hulun
				}
			}
			if = {
				limit = {
					owned_by = MXI
				}
				cede_province = ROOT
			}
		}
		dalian_area = {
			hidden_effect = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
					}
					add_core = ROOT
				}
				if = {
					limit = {
						culture = uriankhai
					}
					change_culture = hulun
				}
			}
			if = {
				limit = {
					owned_by = MXI
				}
				cede_province = ROOT
			}
		}
		731 = {
			change_culture = hulun
		}
		4758 = {
			change_culture = hulun
		}
		3259 = {
			change_culture = baarin
		}
		4688 = {
			change_culture = gorlos
		}
		if = {
			limit = {
				OR = {
					MXI = {
						war_with = KOR
					}
					primary_culture = korean
				}
			}
			MXI = {
				every_owned_province = {
					limit = {
						isValidProv = yes
						region = korea_region
					}
					cede_province = ROOT
				}
			}
		}
		every_country = {
			limit = {
				isValidCountry = yes
				war_with = MXI
			}
			white_peace = MXI
		}
		hidden_effect = {
			if = {
				limit = {
					MXI = { ai = yes }
				}
				every_province = {
					limit = {
						owned_by = MXI
					}
					cede_province = PREV
				}
				release = MXI
			}
		}
		MXI = {
			hidden_effect = {
				every_owned_province = {
					limit = {
						NOT = { culture = uriankhai }
					}
					remove_core = MXI
				}
				Effect_set_capital = { target=3259 }
				if = {
					limit = {
						owns = 4693
					}
					4693 = {
						remove_core = GLS
					}
				}
			}
			if = {
				limit = {
					NOT = { exists = JOL }
					any_owned_province = { is_core = JOL }
				}
				release = JOL
			}
			if = {
				limit = {
					NOT = { exists = JHA }
					any_owned_province = { is_core = JHA }
				}
				release = JHA
				hidden_effect = { JHA = { jurchen_effect = yes } }
			}
			if = {
				limit = {
					NOT = { exists = JHI }
					any_owned_province = { is_core = JHI }
				}
				release = JHI
				hidden_effect = { JHI = { jurchen_effect = yes } }
			}
			if = {
				limit = {
					NOT = { exists = JLA }
					any_owned_province = { is_core = JLA }
				}
				release = JLA
				hidden_effect = { JLA = { jurchen_effect = yes } }
			}
			if = {
				limit = {
					NOT = { exists = JYE }
					any_owned_province = { is_core = JYE }
				}
				release = JYE
				hidden_effect = { JYE = { jurchen_effect = yes } }
			}
			if = {
				limit = {
					NOT = { exists = JTU }
					any_owned_province = { is_core = JTU }
				}
				release = JTU
			}
			if = {
				limit = {
					NOT = { exists = JOD }
					any_owned_province = { is_core = JOD }
				}
				release = JOD
			}
			if = {
				limit = {
					NOT = { exists = JHO }
					any_owned_province = { is_core = JHO }
				}
				release = JHO
			}
			if = {
				limit = {
					NOT = { exists = JHU }
					any_owned_province = { is_core = JHU }
				}
				release = JHU
			}
			if = {
				limit = {
					NOT = { exists = MJZ }
					any_owned_province = { is_core = MJZ }
				}
				release = MJZ
			}
			if = {
				limit = {
					NOT = { exists = MWK }
					any_owned_province = { is_core = MWK }
				}
				release = MWK
			}
			if = {
				limit = {
					NOT = { exists = MHX }
					any_owned_province = { is_core = MHX }
				}
				release = MHX
			}
			if = {
				limit = {
					NOT = { exists = MUD }
					any_owned_province = { is_core = MUD }
				}
				release = MUD
			}
			if = {
				limit = {
					NOT = { exists = MHR }
					any_owned_province = { is_core = MHR }
				}
				release = MHR
			}
			Stab_Subtract1 = yes
			add_legitimacy = -15
			add_prestige = -15
			hidden_effect = {
				4693 = {
					add_core = GLS
				}
			}
			hidden_effect = {
				if = {
					limit = {
						exists = YUA
					}
					every_owned_province = {
						limit = {
							NOT = { culture = uriankhai }
							OR = {
								culture_group = altaic
								culture = oroqen
							}
						}
						cede_province = YUA
					}
				}
				else = {
					if = {
						limit = {
							NOT = { exists = TMD }
							any_owned_province = { is_core = TMD }
						}
						release = TMD
						hidden_effect = {
							TMD = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = ORD }
							any_owned_province = { is_core = ORD }
						}
						release = ORD
						hidden_effect = {
							ORD = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = SUD }
							any_owned_province = { is_core = SUD }
						}
						release = SUD
						hidden_effect = {
							SUD = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = KHN }
							any_owned_province = { is_core = KHN }
						}
						release = KHN
						hidden_effect = {
							KHN = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = ONN }
							any_owned_province = { is_core = ONN }
						}
						release = ONN
						hidden_effect = {
							ONN = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = NAI }
							any_owned_province = { is_core = NAI }
						}
						release = NAI
						hidden_effect = {
							NAI = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = BRN }
							any_owned_province = { is_core = BRN }
						}
						release = BRN
						hidden_effect = {
							BRN = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JAL }
							any_owned_province = { is_core = JAL }
						}
						release = JAL
						hidden_effect = {
							JAL = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = KHR }
							any_owned_province = { is_core = KHR }
						}
						release = KHR
						hidden_effect = {
							KHR = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = GLS }
							any_owned_province = { is_core = GLS }
						}
						release = GLS
						hidden_effect = {
							GLS = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = DRB }
							any_owned_province = { is_core = DRB }
						}
						release = DRB
						hidden_effect = {
							DRB = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = BGA }
							any_owned_province = { is_core = BGA }
						}
						release = BGA
						hidden_effect = {
							BGA = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = BRT }
							any_owned_province = { is_core = BRT }
						}
						release = BRT
						hidden_effect = {
							BRT = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = MYR }
							any_owned_province = { is_core = MYR }
						}
						release = MYR
						hidden_effect = {
							MYR = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = ORQ }
							any_owned_province = { is_core = ORQ }
						}
						release = ORQ
						hidden_effect = {
							ORQ = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = OIR }
							any_owned_province = { is_core = OIR }
						}
						release = OIR
						hidden_effect = {
							OIR = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = HMI }
							any_owned_province = { is_core = HMI }
						}
						release = HMI
						hidden_effect = {
							HMI = {
								steppe_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JOL }
							any_owned_province = { is_core = JOL }
						}
						release = JOL
						hidden_effect = {
							JOL = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JHA }
							any_owned_province = { is_core = JHA }
						}
						release = JHA
						hidden_effect = {
							JHA = {
								jurchen_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JHI }
							any_owned_province = { is_core = JHI }
						}
						release = JHI
						hidden_effect = {
							JHI = {
								jurchen_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JLA }
							any_owned_province = { is_core = JLA }
						}
						release = JLA
						hidden_effect = {
							JLA = {
								jurchen_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JYE }
							any_owned_province = { is_core = JYE }
						}
						release = JYE
						hidden_effect = {
							JYE = {
								jurchen_effect = yes
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JTU }
							any_owned_province = { is_core = JTU }
						}
						release = JTU
						hidden_effect = {
							JTU = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JOD }
							any_owned_province = { is_core = JOD }
						}
						release = JOD
						hidden_effect = {
							JOD = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JHO }
							any_owned_province = { is_core = JHO }
						}
						release = JHO
						hidden_effect = {
							JHO = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = JHU }
							any_owned_province = { is_core = JHU }
						}
						release = JHU
						hidden_effect = {
							JHU = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = MJZ }
							any_owned_province = { is_core = MJZ }
						}
						release = MJZ
						hidden_effect = {
							MJZ = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = MWK }
							any_owned_province = { is_core = MWK }
						}
						release = MWK
						hidden_effect = {
							MWK = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = MHX }
							any_owned_province = { is_core = MHX }
						}
						release = MHX
						hidden_effect = {
							MHX = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = MUD }
							any_owned_province = { is_core = MUD }
						}
						release = MUD
						hidden_effect = {
							MUD = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { exists = MHR }
							any_owned_province = { is_core = MHR }
						}
						release = MHR
						hidden_effect = {
							MHR = {
								if = {
									limit = {
										exists = yes
									}
									country_event = { id = Init.2 }
								}
							}
						}
					}
					KHA = {
						every_country = {
							limit = {
								OR = {
									culture_group = altaic
									primary_culture = oroqen
								}
								NOT = { tag = MGH }
								NOT = { tag = CHG }
								NOT = { tag = TIM }
								NOT = { tag = GGK }
								is_subject = no
								OR = {
									capital_scope = { continent = asia }
									capital_scope = { continent = north_asia }
									tag = OIR
									tag = HMI
								}
							}
							country_event = { id = red_turban.31 days = 1 }
						}
					}
				}
			}
		}
		every_known_country = {
			limit = {
				culture_group = jurchen_group
				NOT = { tag = JOL }
			}
			country_event = { id = red_turban.32 days = 15 }
		}
		every_known_country = {
			limit = {
				culture_group = nivkh_group
				NOT = { tag = JOL }
			}
			country_event = { id = red_turban.32 days = 30 }
		}
		ai_chance = {
			factor = 0.95
		}
	}
	after = {
	}
}
### Demand for submission
country_event = {
	id = red_turban.31
	title = "red_turban.31.t"
	desc = "red_turban.31.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.31a" # Submit
		ai_chance = { 
			factor = 100
		}
		if = {
			limit = {
				is_subject = yes
			}
			grant_independence = yes
		}
		if = {
			limit = {
				exists = KHA
			}
			KHA = {
				create_subject = {
					subject_type = commission
					subject = PREV
				}
			}
		}
		Stab_Add1 = yes
		KHA = {
			country_event = {
				id = red_turban.33
			}
		}
	}
	option = {
		name = "red_turban.31b" # nope
		ai_chance = { 
			factor = 0
		}
		add_prestige = 30
	}
}
### Nurgan
country_event = {
	id = red_turban.32
	title = "red_turban.32.t"
	desc = "red_turban.32.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.32a" # Submit
		ai_chance = { 
			factor = 100
		}
		if = {
			limit = {
				is_subject = yes
			}
			grant_independence = yes
		}
		if = {
			limit = {
				exists = FROM
			}
			FROM = {
				create_subject = {
					subject_type = commission
					subject = PREV
				}
			}
		}
		FROM = {
			country_event = {
				id = red_turban.34
			}
		}
	}
	option = {
		name = "red_turban.32b" # nope
		ai_chance = { 
			factor = 0
		}
		add_prestige = 30
	}
}
### Yuan
country_event = {
	id = red_turban.33
	title = "red_turban.33.t"
	desc = "red_turban.33.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.33ab" # yea
		add_prestige = 2
	}
}
### Nurgan
country_event = {
	id = red_turban.34
	title = "red_turban.34.t"
	desc = "red_turban.34.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.34ab" # yea
		add_prestige = 4
	}
}
### Demand for submission
country_event = {
	id = red_turban.35
	title = "red_turban.35.t"
	desc = "red_turban.35.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.35a" # Submit
		ai_chance = { 
			factor = 100
		}
		if = {
			limit = {
				is_subject = yes
			}
			grant_independence = yes
		}
		if = {
			limit = {
				exists = MXI
			}
			MXI = {
				create_subject = {
					subject_type = muscovite_tributary_state
					subject = PREV
				}
			}
		}
		Stab_Add1 = yes
		MXI = {
			country_event = {
				id = red_turban.36
			}
		}
	}
	option = {
		name = "red_turban.35b" # nope
		ai_chance = { 
			factor = 0
		}
		add_prestige = 30
	}
}
### Nurgan
country_event = {
	id = red_turban.36
	title = "red_turban.36.t"
	desc = "red_turban.36.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.34ab" # yea
		add_prestige = 4
	}
}
country_event = {
	id = red_turban.37
	title = "red_turban.37.t"
	desc = "red_turban.37.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.37a"
		trigger = {
			ai = no
			exists = TMD
		}
		switch_tag = TMD
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.37b"
		trigger = {
			ai = no
			exists = ORD
		}
		switch_tag = ORD
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.37c"
		trigger = {
			ai = no
			exists = SUD
		}
		switch_tag = SUD
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.37d"
		trigger = {
			ai = no
			exists = HMI
		}
		switch_tag = HMI
		ai_chance = { 
			factor = 0
		}
	}
}
country_event = {
	id = red_turban.38
	title = "red_turban.38.t"
	desc = "red_turban.38.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.38a"
		trigger = {
			ai = no
			exists = MXI
		}
		switch_tag = MXI
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.38b"
		trigger = {
			ai = no
			exists = KHN
		}
		switch_tag = KHN
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.38c"
		trigger = {
			ai = no
			exists = NAI
		}
		switch_tag = NAI
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.38d"
		trigger = {
			ai = no
			exists = ONN
		}
		switch_tag = ONN
		ai_chance = { 
			factor = 0
		}
	}
}
country_event = {
	id = red_turban.39
	title = "red_turban.39.t"
	desc = "red_turban.39.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.39a"
		trigger = {
			ai = no
			exists = JHA
		}
		switch_tag = JHA
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.39b"
		trigger = {
			ai = no
			exists = JYE
		}
		switch_tag = JYE
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.39c"
		trigger = {
			ai = no
			exists = JHI
		}
		switch_tag = JHI
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.39d"
		trigger = {
			ai = no
			exists = JLA
		}
		switch_tag = JLA
		ai_chance = { 
			factor = 0
		}
	}
}
country_event = {
	id = red_turban.40
	title = "red_turban.40.t"
	desc = "red_turban.40.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.40a"
		trigger = {
			ai = no
			exists = JAL
		}
		switch_tag = JAL
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.40b"
		trigger = {
			ai = no
			exists = BRN
		}
		switch_tag = BRN
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.40c"
		trigger = {
			ai = no
			exists = GLS
		}
		switch_tag = GLS
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.40d"
		trigger = {
			ai = no
			exists = KHR
		}
		switch_tag = KHR
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.40e"
		trigger = {
			ai = no
			exists = DRB
		}
		switch_tag = DRB
		ai_chance = { 
			factor = 0
		}
	}
}
country_event = {
	id = red_turban.41
	title = "red_turban.41.t"
	desc = "red_turban.41.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "red_turban.41a"
		trigger = {
			ai = no
			exists = MYR
		}
		switch_tag = MYR
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.41b"
		trigger = {
			ai = no
			exists = BGA
		}
		switch_tag = BGA
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.41c"
		trigger = {
			ai = no
			exists = ORQ
		}
		switch_tag = ORQ
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.41d"
		trigger = {
			ai = no
			exists = BRT
		}
		switch_tag = BRT
		ai_chance = { 
			factor = 0
		}
	}
}
country_event = {
	id = red_turban.42
	title = "red_turban.42.t"
	desc = "red_turban.42.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	hidden = yes
    fire_only_once = yes

	
	trigger = {
		tag = YUA
		exists = yes
		has_country_flag = Yuan_Degenerate
		NOT = { num_of_cities = 60 }
		OR = {
			MXI = {
				exists = yes
				NOT = { owns = 4035 }
			}
			NOT = { controls = 4713 } # Sandu
			NOT = { controls = 4743 } # Kharkhorum 
			NOT = { owns = 4743 }
			NOT = { owns = 4713 }
			is_subject = yes
		}
		OR = {
			is_subject = no
			overlord = {
				NOT = { tag = CHG }
				NOT = { tag = MGH }
				NOT = { tag = WHI }
				NOT = { tag = BLU }
				NOT = { tag = GOL }
				NOT = { tag = CHU }
				NOT = { tag = TIM }
				NOT = { tag = GGK }
			}
		}
		NOT = { war_with = TIM }
		NOT = { war_with = GGK }
	}


	option = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					isValidProv = yes
					OR = {
						culture_group = chinese_group
						area = dalian_area
					}
				}
				random_country = {
					limit = {
						isValidCountry = yes
						any_owned_province = {
							isValidProv = yes
							region = hebei_region
						}
						culture_group = chinese_group
					}
					PREV = { cede_province = PREV }
				}
			}
			Yuan_DissolveSetup = yes
		}
	}
}
country_event = {
	id = red_turban.43
	title = "red_turban.43.t"
	desc = "red_turban.43.desc"
	picture = SIEGE_eventPicture

	fire_only_once = yes
	
	trigger = {
		ai = no
		culture_group = jurchen_group
		NOT = { has_global_flag = Hulun_Switch }
		NOT = { OR = { tag = JYE tag = JHA tag = JHI tag = JLA } }
		OR = {
			exists = JYE
			exists = JHA
			exists = JHI
			exists = JLA
		}
	}

	mean_time_to_happen = {
		months = 1
	}

	immediate = {
		set_global_flag = Hulun_Switch
	}

	option = {
		name = "red_turban.43.a"
	}
	option = {
		name = "red_turban.43.b"
		trigger = {
			ai = no
			exists = JHA
		}
		switch_tag = JHA
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.43.c"
		trigger = {
			ai = no
			exists = JYE
		}
		switch_tag = JYE
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.43.d"
		trigger = {
			ai = no
			exists = JHI
		}
		switch_tag = JHI
		ai_chance = { 
			factor = 0
		}
	}
	option = {
		name = "red_turban.43e"
		trigger = {
			ai = no
			exists = JLA
		}
		switch_tag = JLA
		ai_chance = { 
			factor = 0
		}
	}
}