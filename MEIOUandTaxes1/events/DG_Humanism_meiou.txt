namespace = dg_humanism

### 1. SPREAD OF HUMANISM ###

#01 - Birth of the Renaissance
#02 - The $PRIMARY_CULTURE$ Renaissance

### 2. HUMANIST IDEAS - THEOLOGIANS ###
#11 - Veiled Criticism of the Church (Desiderius Erasmus, Netherlands 1511 et al) [university]
#12 - The Forgery of Constantine (Lorenzo Valla, Italy 1439)

### 1. SPREAD OF HUMANISM ###

### BIRTH OF THE RENAISSANCE
country_event = {
	id = dg_humanism.001
	title = dg_humanism.001.t
	desc = dg_humanism.001.d
	picture = renaissance_painters
	is_triggered_only = yes #on_four_year_pulse_4 on_action
	
	fire_only_once = yes
	major = yes
	
	trigger = {
		NOT = { has_global_flag = renaissance }
		owns = 116 #Florence
		is_year = 1374 #Humanism founded by Petrarch
		western_christian = yes
	}
	
	option = {
		name = dg_humanism.001.a #The glory of Rome revived!
		hidden_effect = { set_global_flag = renaissance }
		define_advisor = {
			type = artist_BG
			religion = catholic
			discount = yes
			skill = 2
		}
		add_prestige = 5
	}
}

### THE $PRIMARY_CULTURE$ RENAISSANCE
country_event = {
	id = dg_humanism.002
	title = dg_humanism.002.t
	desc = dg_humanism.002.d
	picture = renaissance_painters
	is_triggered_only = yes #on_four_year_pulse_4 on_action
	
	trigger = {
	    capital_scope = {
		    continent = europe
		}
		western_christian = yes
		has_institution = Legalism
		has_global_flag = renaissance
		OR = { #Beginning of renaissance in certain parts of Europe may be a subject to change
		    culture_group = latin
			AND = {
			    adm_tech = 20 #Cheap Paper - 1400
                culture_group = napolitan				
			}
			AND = {
			    adm_tech = 25 #Humanism - 1450
                OR = {
				    culture_group = magyar
					culture_group = low_frankish
				}				
			}
			AND = {
			    adm_tech = 27 #Veiled Criticism - 1470
                OR = {
				    culture_group = langue_d_oil
					culture_group = langue_d_oc
					culture_group = high_germanic
					culture_group = low_germanic
				}				
			}
			AND = {
			    adm_tech = 29 #Centralization of Power - 1490
                OR = {
				    culture_group = iberian
					culture_group = basque_group
					culture_group = british
					culture_group = brythonic
				}				
			}
			AND = {
			    adm_tech = 30 #Civil Law - 1500
                 OR = {
				    culture_group = gaelic
				    culture_group = scandinavian
					culture_group = west_slavic
				}				
			}
			AND = {
			    adm_tech = 32 #Mannerism - 1520
				culture_group = finnic
                OR = {
				    culture_group = albanese
					culture_group = baltic
					culture_group = balkan_slavic
					culture_group = romanian
					culture_group = east_slavic
					culture_group = greek_group
				}					
			}
			AND = {
			    adm_tech = 34 #Gymnasium Schools - 1540
                culture_group = finno_ugric				
			}
		}
	}
	
	option = {
		name = dg_humanism.002.a #The church must come first
		trigger = {
			religion = catholic
			OR = {
				is_colonial_nation = no
				overlord = { NOT = { has_country_flag = humanism } }
			}
		}
		ai_chance = {
			factor = 70
			modifier = {
				religion = hussite
				factor = 0.7
			}
			modifier = {
				is_emperor = yes
				factor = 0.7
			}
			modifier = {
				factor = 1.4
				any_neighbor_country = { NOT = { religion_group = christian } }
			}
			modifier = {
				factor = 1.4
				any_neighbor_province = { owned_by = PAP }
			}
			modifier = {
				factor = 1.4
				owner = {
					government = theocracy
					is_elector = yes
				}
			}
			modifier = {
				owner = { government = theocracy }
				factor = 1.4
			}
			modifier = {
				factor = 1.4
				NOT = { owner = { religious_unity = 0.80 } }
				religion = catholic
			}
			modifier = {
				factor = 1.4
				NOT = { owner = { religious_unity = 0.60 } }
				religion = catholic
			}
			modifier = {
				factor = 0.7
				is_religion_enabled = protestant
			}
			modifier = {
				factor = 2
				owner = { NOT = { reform_desire = 10 } }
			}
			modifier = {
				factor = 2
				owner = { NOT = { reform_desire = 20 } }
			}
			modifier = {
				factor = 1.4
				owner = { NOT = { reform_desire = 30 } }
			}
			modifier = {
				factor = 0.7
				owner = { reform_desire = 80 }
			}
			modifier = {
				factor = 0.7
				owner = { reform_desire = 100 }
			}
		}
		random_list = {
			50 = { define_advisor = { type = theologian_CL discount = yes } }
			50 = { define_advisor = { type = inquisitor_CL discount = yes } }
		}
		set_country_flag = renaissance
	}
	option = {
		name = dg_humanism.002.b #Embrace secular humanism
		ai_chance = { factor = 30 }
		trigger = {
			OR = {
				NOT = { religion = catholic }
				NOT = { papal_trigger = yes }
			}
			OR = {
				is_colonial_nation = no
				overlord = { NOT = { has_country_flag = renaissance } }
			}
		}
		random_list = {
			50 = { define_advisor = { type = philosopher_BG discount = yes } }
			50 = { define_advisor = { type = artist_BG discount = yes } }
		}
		set_country_flag = humanism 
	}
}

### 2. HUMANIST IDEAS - THEOLOGIANS ###

# VEILED CRITICSM OF THE CHURCH
country_event = {
	id = dg_humanism.011
	title = dg_humanism.011.t
	desc = dg_humanism.011.d
	picture = all_publishing
	is_triggered_only = yes #on_four_year_pulse_4 on_action
	
	trigger = {
	    OR = {
		    has_country_flag = humanism
			has_country_flag = renaissance
		}
		capital_scope = {
		    OR = {
			    has_province_modifier = LN_Minor
				has_province_modifier = LN_Important
				has_province_modifier = LN_Major
			}
		}
		religion = catholic
		adm_tech = 27 #Veiled Criticism - 1470
	    NOT = { has_country_flag = veiled_criticsm }
		NOT = { is_religion_enabled = reformed }
	}
	
	immediate = {
		set_country_flag = veiled_criticsm
	}
	
	option = {
		name = dg_humanism.011.a #Call on the Church to reform itself
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = humanism
				factor = 2
			}
			modifier = {
				factor = 1.5
				check_key = { lhs = Prov_CLLoy value = 75 }
			}
			modifier = {
				factor = 0
				papal_trigger = yes
			}
		}
		add_adm_power = 100
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-25 }
		add_papal_influence = -25
		if = {
		    limit = {
			    NOT = { has_country_modifier = CL_Secularise_S }
			    NOT = { has_country_modifier = CL_Secularise_M }
			    NOT = { has_country_modifier = CL_Secularise_L }
			}
			CL_Secularise = yes
			custom_tooltip = CL_Secularise_effect
		}
	}
	option = {
		name = dg_humanism.011.b #Read the book with interest
		ai_chance = { 
		    factor = 60 
			modifier = {
				factor = 0
				papal_trigger = yes
			}
		}
		add_adm_power = 75
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-10 }
		add_papal_influence = -10
	}
	option = {
		name = dg_humanism.011.c #Burn copies of the text
		ai_chance = {
			factor = 20
			modifier = {
				factor = 1.5
				NOT = { check_key = { lhs = Prov_CLLoy value = 25 } }
			}
		}
		add_adm_power = 50
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=25 }
		add_papal_influence = 25
		if = {
		    limit = {
			    NOT = { has_country_modifier = CL_PopularReform_S }
			    NOT = { has_country_modifier = CL_PopularReform_M }
			    NOT = { has_country_modifier = CL_PopularReform_L }
			}
			CL_PopularReform = yes
		}
	}
}

### THE FORGERY OF CONSTANTINE
country_event = {
	id = dg_humanism.012
	title = dg_humanism.012.t
	desc = dg_humanism.012.d
	picture = all_publishing
	fire_only_once = yes
	
	trigger = {
	    OR = {
		    has_country_flag = humanism
			has_country_flag = renaissance
		}
		university_trigger = yes
		western_christian = yes
		advisor = theologian_CL
		adm_tech = 21 #Translated Classics - 1410
		NOT = { is_religion_enabled = reformed }
	}
     
	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 0.5
			ai = no
		}
	}
	
	immediate = {
	    every_known_country = {
			limit = {
				ai = no
			    western_christian = yes
			}
			country_event = { id = dg_humanism.0121 }
		}
	}
	
	option = {
		name = dg_humanism.012.a #Publicly raise questions about the document
		trigger = { NOT = { tag = PAP } }
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = humanism
				factor = 3
			}
			modifier = {
				war_with = PAP
				factor = 3
			}
			modifier = {
				truce_with = PAP
				factor = 3
			}
			modifier = {
				is_rival = PAP
				factor = 3
			}
			modifier = {
				is_enemy = PAP
				factor = 3
			}
		}
		add_adm_power = 100
		add_papal_influence = -25
		reverse_add_opinion = { 
		    who = PAP 
		    modifier = disobeyed_religious_leader 
		}
		add_opinion = { 
		    who = PAP 
		    modifier = papacy_bad 
		}
		PAP = { country_event = { id = dg_papacy.953 days = 30 } }
		add_reform_desire = 0.002
	}
	option = {
		name = dg_humanism.012.b #Let the Church deal with this matter
		trigger = { NOT = { tag = PAP } }
		ai_chance = { factor = 60 }
		add_adm_power = 75
		remove_advisor = theologian_CL
		add_reform_desire = 0.001

	}
	option = {
		name = dg_humanism.012.c #Hush up the matter
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = renaissance
				factor = 3
			}
		}
		add_adm_power = 50
		kill_advisor = theologian_CL
		add_papal_influence = 25
	}
}

### THE FORGERY OF CONSTANTINE (INFORMATIVE EVENT)
country_event = {
	id = dg_humanism.0121
	title = dg_humanism.012.t
	desc = dg_humanism.0121.d
	picture = all_publishing
	is_triggered_only = yes #from dg_humanism.012
	
	option = {
		name = dg_humanism.0121.a
	}
}

### THE PAULINE EPISTLES
country_event = {
	id = dg_humanism.013
	title = dg_humanism.013.t
	desc = dg_humanism.013.d
	picture = all_publishing
	fire_only_once = yes
	
	trigger = {
	    OR = {
		    has_country_flag = humanism
			has_country_flag = renaissance
		}
		religion = catholic
		employed_advisor = {
			type = theologian_CL
		    religion = catholic
		}
		adm_tech = 30 #Civil Law - 1500
	}
	
	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 0.5
			ai = no
		}
	}
	
	immediate = {
	    every_known_country = {
			limit = {
				ai = no
			    western_christian = yes
			}
			country_event = { id = dg_humanism.0131 }
		}
	}
	
	option = {
		name = dg_humanism.013.a #Offer him protection
		trigger = { NOT = { tag = PAP } }
		ai_chance = {
			factor = 20
			modifier = {
				factor = 3
				has_country_flag = humanism
			}
			modifier = {
				factor = 1.5
				check_key = { lhs = Prov_CLLoy value = 75 }
			}
		}
		add_adm_power = 100
		add_papal_influence = -20
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-20 }
		add_reform_desire = 0.002
	}
	option = {
		name = dg_humanism.013.b #Condemn him and his works
		ai_chance = { factor = 60 }
		add_adm_power = 75
		remove_advisor = theologian_CL
		add_reform_desire = 0.001
	}
	option = {
		name = dg_humanism.013.c #Imprison him until he publicly recants
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = renaissance
				factor = 3
			}
			modifier = {
				factor = 1.5
				NOT = { check_key = { lhs = Prov_CLLoy value = 25 } }
			}
		}
		add_adm_power = 50
		kill_advisor = theologian_CL
		add_papal_influence = 20
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=20 }
		if = { limit = { government = theocracy } add_devotion = 25 }
	}
}

### THE PAULINE EPISTLES (INFORMATIVE EVENT)
country_event = {
	id = dg_humanism.0131
	title = dg_humanism.013.t
	desc = dg_humanism.0131.d
	picture = all_publishing
	is_triggered_only = yes #from dg_humanism.013
	
	option = {
		name = dg_humanism.0131.a
	}
}

### THE $PRIMARY_CULTURE$ BIBLE
country_event = {
	id = dg_humanism.014
	title = dg_humanism.014.t
	desc = dg_humanism.014.d
	picture = all_publishing
	
	is_triggered_only = yes #on_four_year_pulse_4 on_action
	
	trigger = {
	    OR = {
		    has_country_flag = humanism
			has_country_flag = renaissance
		}
		employed_advisor = {
			type = theologian_CL
		    religion = ROOT
			culture = ROOT
		}
		western_christian = yes
		any_owned_province = {
		    culture = ROOT
			religion = ROOT
		    OR = {
			    has_province_modifier = LN_Minor
				has_province_modifier = LN_Important
				has_province_modifier = LN_Major
			}
		}
		adm_tech = 26 #Block-books - 1460
		NOT = {
		    any_country = {
			    culture = ROOT
				has_country_flag = bible_translation
			}
		}
	}
	
	immediate = {
		set_country_flag = bible_translation
		every_known_country = {
			limit = {
				ai = no
				culture = ROOT
			    western_christian = yes
			}
			country_event = { id = dg_humanism.0141 }
		}
	}
	
	option = {
		name = dg_humanism.014.a #Sponsor an official translation
		trigger = { NOT = { tag = PAP } }
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = humanism
				factor = 3
			}
			modifier = {
				factor = 1.5
				check_key = { lhs = Prov_CLLoy value = 75 }
			}
			modifier = {
				factor = 0.1
				NOT = { treasury = 50 }
			}
		}
		add_adm_power = 100
		add_treasury = -50
		add_papal_influence = -20
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-20 }
		hidden_effect = {
		    random_owned_province = {
			    limit = {
				    culture = ROOT
			        religion = ROOT
		            OR = {
			            has_province_modifier = LN_Minor
				        has_province_modifier = LN_Important
				        has_province_modifier = LN_Major
			        }
				}
				Public_ChangeClassWealthVal = { class=BG type=value inp=50 }
			}
		}
	}
	option = {
		name = dg_humanism.014.b #Allow this translation to be published
		ai_chance = { factor = 60 }
		add_adm_power = 75
		add_papal_influence = -10
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-10 }
	}
	option = {
		name = dg_humanism.014.c #Arrest the author on charges of heresy
		trigger = { religion = catholic }
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = renaissance
				factor = 3
			}
			modifier = {
				factor = 1.5
				NOT = { check_key = { lhs = Prov_CLLoy value = 25 } }
			}
		}
		add_adm_power = 50
		kill_advisor = theologian_CL
		add_papal_influence = 25
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=15 }
		if = { limit = { government = theocracy } add_devotion = 25 }
	}
}

### THE $PRIMARY_CULTURE$ BIBLE (INFORMATIVE EVENT)
country_event = {
	id = dg_humanism.0141
	title = dg_humanism.014.t
	desc = dg_humanism.0141.d
	picture = all_publishing
	is_triggered_only = yes #from dg_humanism.014
	
	option = {
		name = dg_humanism.0141.a
	}
}

### A NEW TRANSLATION
country_event = {
	id = dg_humanism.015
	title = dg_humanism.015.t
	desc = dg_humanism.015.d
	picture = protestant_translation
	fire_only_once = yes
	
	trigger = {
	    OR = {
		    has_country_flag = humanism
			has_country_flag = renaissance
		}
		western_christian = yes
		advisor = theologian_CL
		adm_tech = 31 #Private Watchmen - 1510
	}
	
	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 0.5
			ai = no
		}
		modifier = {
			factor = 0.1
			has_country_flag = desiderius_erasmus
		}
	}
	
	immediate = {
	    every_known_country = {
			limit = {
				ai = no
			    western_christian = yes
			}
			country_event = { id = dg_humanism.0151 }
		}
	}
	
	option = {
		name = dg_humanism.015.a #The Church holds wrong beliefs
		trigger = { NOT = { tag = PAP } }
		ai_chance = {
			factor = 20
			modifier = {
				factor = 3
				has_country_flag = humanism
			}
			modifier = {
				factor = 1.5
				check_key = { lhs = Prov_CLLoy value = 75 }
			}
		}
		add_adm_power = 100
		add_papal_influence = -20
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-20 }
		add_reform_desire = 0.002
	}
	option = {
		name = dg_humanism.015.b #The translators were in error
		ai_chance = { factor = 60 }
		add_adm_power = 75
		add_papal_influence = 5
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=5 }
		add_reform_desire = 0.001
	}
	option = {
		name = dg_humanism.015.c #This new translation is the work of the Devil
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = renaissance
				factor = 3
			}
			modifier = {
				factor = 1.5
				NOT = { check_key = { lhs = Prov_CLLoy value = 25 } }
			}
		}
		add_adm_power = 50
		kill_advisor = theologian_CL
		add_papal_influence = 20
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=20 }
		if = { limit = { government = theocracy } add_devotion = 25 }
	}
}

### A NEW TRANSLATION (INFORMATIVE EVENT)
country_event = {
	id = dg_humanism.0151
	title = dg_humanism.015.t
	desc = dg_humanism.0151.d
	picture = protestant_translation
	is_triggered_only = yes #from dg_humanism.015
	
	option = {
		name = dg_humanism.0151.a
	}
}