namespace = dg_humanism

### 1. SPREAD OF HUMANISM ###

#01 - Birth of the Renaissance
#02 - The $PRIMARY_CULTURE$ Renaissance

### 2. HUMANIST IDEAS - THEOLOGIANS ###
#11 - Veiled Criticism of the Church (Desiderius Erasmus, Netherlands 1511 et al) [university]

### 1. SPREAD OF HUMANISM ###

### BIRTH OF THE RENAISSANCE
country_event = {
	id = dg_humanism.001
	title = dg_humanism.001.t
	desc = dg_humanism.001.d
	picture = renaissance_painters
	
	fire_only_once = yes
	major = yes
	
	trigger = {
		NOT = { has_global_flag = renaissance }
		owns = 116 #Florence
		is_year = 1374 #Humanism founded by Petrarch
		western_christian = yes
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = dg_humanism.001.a #The glory of Rome revived!
		hidden_effect = { set_global_flag = renaissance }
		define_advisor = {
			type = artist_BG
			religion = catholic
			discount = yes
			skill = 2
		}
		add_prestige = 5
	}
}

### THE $PRIMARY_CULTURE$ RENAISSANCE
country_event = {
	id = dg_humanism.002
	title = dg_humanism.002.t
	desc = dg_humanism.002.d
	picture = renaissance_painters
	
	trigger = {
	    capital_scope = {
		    continent = europe
		}
		western_christian = yes
		has_institution = Legalism
		has_global_flag = renaissance
		OR = { #Beginning of renaissance in certain parts of Europe may be a subject to change
		    superregion = italy_superregion
			AND = {
			    adm_tech = 25 #Humanism - 1450
                OR = {
				    capital_scope = {
						region = magyar_plains_region
				    }
					capital_scope = {
						region = high_countries_region
				    }
					capital_scope = {
						region = belgii_region
				    }
				}				
			}
			AND = {
			    adm_tech = 27 #Veiled Criticism - 1470
                OR = {
				    capital_scope = {
						superregion = france_superregion 
				    }
					capital_scope = {
						superregion = greater_austrian_circle_superregion
				    }
					capital_scope = {
						superregion = germany_superregion 
				    }
				}				
			}
			AND = {
			    adm_tech = 29 #Centralization of Power - 1490
                OR = {
				    capital_scope = {
						superregion = iberia_superregion 
				    }
					capital_scope = {
						superregion = british_isles_superregion
				    }
				}				
			}
			AND = {
			    adm_tech = 30 #Civil Law - 1500
                 OR = {
				    capital_scope = {
						superregion = scandinavian_superregion
				    }
					capital_scope = {
						superregion = commonwealth_superregion
				    }
				}				
			}
			AND = {
			    adm_tech = 32 #Mannerism - 1520
                OR = {
				    capital_scope = {
						superregion = balkan_superregion
				    }
					capital_scope = {
						superregion = greater_russia_superregion
				    }
				}					
			}
			AND = {
			    adm_tech = 34 #Gymnasium Schools - 1540
                capital_scope = {
                    superregion = european_steppe_superregion
                }				
			}
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	option = {
		name = dg_humanism.002.a #The church must come first
		trigger = {
			religion = catholic
			OR = {
				is_colonial_nation = no
				overlord = { NOT = { has_country_flag = humanism } }
			}
		}
		ai_chance = {
			factor = 70
			modifier = {
				religion = hussite
				factor = 0.7
			}
			modifier = {
				is_emperor = yes
				factor = 0.7
			}
			modifier = {
				factor = 1.4
				any_neighbor_country = { NOT = { religion_group = christian } }
			}
			modifier = {
				factor = 1.4
				any_neighbor_province = { owned_by = PAP }
			}
			modifier = {
				factor = 1.4
				owner = {
					government = theocracy
					is_elector = yes
				}
			}
			modifier = {
				owner = { government = theocracy }
				factor = 1.4
			}
			modifier = {
				factor = 1.4
				NOT = { owner = { religious_unity = 0.80 } }
				religion = catholic
			}
			modifier = {
				factor = 1.4
				NOT = { owner = { religious_unity = 0.60 } }
				religion = catholic
			}
			modifier = {
				factor = 0.7
				is_religion_enabled = protestant
			}
			modifier = {
				factor = 2
				owner = { NOT = { reform_desire = 10 } }
			}
			modifier = {
				factor = 2
				owner = { NOT = { reform_desire = 20 } }
			}
			modifier = {
				factor = 1.4
				owner = { NOT = { reform_desire = 30 } }
			}
			modifier = {
				factor = 0.7
				owner = { reform_desire = 80 }
			}
			modifier = {
				factor = 0.7
				owner = { reform_desire = 100 }
			}
		}
		random_list = {
			50 = { define_advisor = { type = theologian_CL discount = yes } }
			50 = { define_advisor = { type = inquisitor_CL discount = yes } }
		}
		set_country_flag = renaissance
	}
	option = {
		name = dg_humanism.002.b #Embrace secular humanism
		ai_chance = { factor = 30 }
		trigger = {
			OR = {
				NOT = { religion = catholic }
				NOT = { papal_trigger = yes }
			}
			OR = {
				is_colonial_nation = no
				overlord = { NOT = { has_country_flag = renaissance } }
			}
		}
		random_list = {
			50 = { define_advisor = { type = philosopher_BG discount = yes } }
			50 = { define_advisor = { type = artist_BG discount = yes } }
		}
		set_country_flag = humanism 
	}
}

### 2. HUMANIST IDEAS - THEOLOGIANS ###

# VEILED CRITICSM OF THE CHURCH
country_event = {
	id = dg_humanism.011
	title = dg_humanism.011.t
	desc = dg_humanism.011.d
	picture = all_publishing
	
	trigger = {
	    OR = {
		    has_country_flag = humanism
			has_country_flag = renaissance
		}
		capital_scope = {
		    OR = {
			    has_province_modifier = LN_Minor
				has_province_modifier = LN_Important
				has_province_modifier = LN_Major
			}
		}
		religion = catholic
		adm_tech = 27 #Veiled Criticism - 1470
	    NOT = { has_country_flag = veiled_criticsm }
		NOT = { is_religion_enabled = reformed }
	}
	
	immediate = {
		set_country_flag = veiled_criticsm
	}
	
	option = {
		name = dg_humanism.011.a #Call on the Church to reform itself
		ai_chance = {
			factor = 20
			modifier = {
				factor = 1.5
				check_key = { lhs = Prov_CLLoy value = 75 }
			}
			modifier = {
				factor = 0
				papal_trigger = yes
			}
		}
		add_adm_power = 100
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-25 }
		add_papal_influence = -25
		if = {
		    limit = {
			    NOT = { has_country_modifier = CL_Secularise_S }
			    NOT = { has_country_modifier = CL_Secularise_M }
			    NOT = { has_country_modifier = CL_Secularise_L }
			}
			CL_Secularise = yes
			custom_tooltip = CL_Secularise_effect
		}
	}
	option = {
		name = dg_humanism.011.b #Read the book with interest
		ai_chance = { 
		    factor = 60 
			modifier = {
				factor = 0
				papal_trigger = yes
			}
		}
		add_adm_power = 75
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=-10 }
		add_papal_influence = -10
	}
	option = {
		name = dg_humanism.011.c #Burn copies of the text
		ai_chance = {
			factor = 20
			modifier = {
				factor = 1.5
				NOT = { check_key = { lhs = Prov_CLLoy value = 25 } }
			}
		}
		add_adm_power = 50
		Public_ChangePowerbrokerLoyaltyTooltip = { Powerbroker=CL Amount=25 }
		add_papal_influence = 25
		if = {
		    limit = {
			    NOT = { has_country_modifier = CL_PopularReform_S }
			    NOT = { has_country_modifier = CL_PopularReform_M }
			    NOT = { has_country_modifier = CL_PopularReform_L }
			}
			CL_PopularReform = yes
		}
	}
}